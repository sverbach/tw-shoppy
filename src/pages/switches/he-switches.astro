---
import BaseLayout from '../../layouts/BaseLayout.astro';
import { setCache } from '../../utils/cache';
import PageTitle from '../../components/PageTitle.astro';
import { KeySwitchItemList } from '@/components/KeySwitchItemList';
import { FiltersSection } from '@/components/FiltersSection';

const title = 'Key switches';
const headers = Astro.request.headers;
const ip = headers.get('x-vercel-forwarded-for') || Astro.clientAddress;

setCache.short(Astro);
---

<BaseLayout title={title}>
  <div class="flex justify-center">
    <div class="flex max-w-screen-xl flex-col gap-16">
      <PageTitle text="Hall effect switches" />
      <div class="flex flex-col gap-6">
        <FiltersSection buyerIP={ip} />
        <KeySwitchItemList buyerIP={ip} />
      </div>
    </div>
  </div>
</BaseLayout>
